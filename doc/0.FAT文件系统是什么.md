# FAT文件系统是什么

## § 文件系统设计

+ 只读文件系统

1. 为方便遍历所有文件，将所有文件信息集中存储；（文件A、文件B...）
2. 为方便组织文件，需采用树形结构对文件进行分层；（A目录、BC目录【B目录、C目录】）
3. 对于FAT32文件系统来说，目录也被视作特殊的文件数据；（目录文件数据；实际内容文件数据）

+ 可写文件系统

1.  文件的写包含：调整文件大小，写入数据等；
2. 文件不连续存储：找出其余的空闲空间，将其与原有文件数据链接起来；（链表）
3. 为快速查找及节省空间，链接关系应集中存储；
4. 考虑到块设备的特性，文件数据应按照扇区/块分配空间；

> **字符设备**
>
> 字符设备是指每次与系统传输1个字符的设备。这些设备节点通常为传真、虚拟终端和串口调制解调器之类设备提供流通信服务，它通常不支持随机存取数据。
>
> 字符设备在实现时，大多不使用缓存器。系统直接从设备读取／写入每一个字符。
>
> **块设备**
>
> 块设备是指与系统间用块的方式移动数据的设备。这些设备节点通常代表可寻址设备，如硬盘、CD-ROM和内存区域。
>
> 块设备通常支持随机存取和寻址，并使用缓存器。操作系统为输入输出分配了缓存以存储一块数据。当程序向设备发送了读取或者写入数据的请求时，系统把数据中的每一个字符存储在适当的缓存中。当缓存被填满时，会采取适当的操作（把数据传走），而后系统清空缓存。
>
> **伪设备**
> 在类Unix操作系统中，设备节点并不一定要对应物理设备。没有这种对应关系的设备是伪设备。操作系统运用了它们提供的多种功能。

5. 考虑到磁盘空间有限，及查找效率，将多个扇区组织为**簇**进行读写；（簇：一个或多个扇区）

## § FAT32分区结构

+ 磁盘分为三个区域：保留区、FAT表区、数据区；

保留区：主要存储文件系统配置数据、启动代码等；

FAT表区：保存文件不连续存储的各部分链接关系；

数据区：存储文件和**目录数据**。**一切皆文件**；

